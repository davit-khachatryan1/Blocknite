"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["components_Particles_index_tsx"],{

/***/ "./components/Particles/index.tsx":
/*!****************************************!*\
  !*** ./components/Particles/index.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/hooks/functions */ \"./utils/hooks/functions.tsx\");\n\nvar _s = $RefreshSig$();\n\n\nconst ParticleCanvas = (param)=>{\n    let { id, spaces, minSpeed, maxSpeed, pointColors, pointMinSize, pointMaxSize, movementDirection, minParticles, maxParticles, divade, windowWidth } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const particlesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const getRandomInt = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((min, max)=>{\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }, []);\n    const getRandomPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        return {\n            x: getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320)),\n            y: getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568))\n        };\n    }, [\n        getRandomInt\n    ]);\n    const getEdgePosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        let x, y;\n        const is = Math.round(Math.random());\n        switch(movementDirection){\n            case \"left-to-right\":\n                x = 0;\n                y = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568));\n                break;\n            case \"right-to-left\":\n                x = (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320);\n                y = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568));\n                break;\n            case \"top-to-bottom\":\n                x = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320));\n                y = 0;\n                break;\n            case \"bottom-to-top\":\n                x = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320));\n                y = (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568);\n                break;\n            case \"left-top-to-right-bottom\":\n                x = is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) : 0;\n                y = !is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568) : 0;\n                break;\n            case \"right-top-to-left-bottom\":\n                x = is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) : (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320);\n                y = !is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568) : 0;\n                break;\n            case \"left-bottom-to-right-top\":\n                x = is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) : 0;\n                y = !is ? (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(800, windowWidth, 238) + Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(280, windowWidth, 330) : (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568);\n                break;\n            case \"right-bottom-to-left-top\":\n                x = is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) : (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320);\n                y = !is ? Math.random() * (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568) : (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568);\n                break;\n            default:\n                x = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320));\n                y = getRandomInt(0, (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568));\n                break;\n        }\n        return {\n            x,\n            y\n        };\n    }, [\n        getRandomInt,\n        movementDirection\n    ]);\n    const createIrregularShape = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((size)=>{\n        const points = [];\n        const numPoints = getRandomInt(5, 10); // Number of points for the irregular shape\n        for(let i = 0; i < numPoints; i++){\n            const angle = i / numPoints * Math.PI * 2;\n            const radius = size / 2 + Math.random() * (size / 2);\n            points.push({\n                x: Math.cos(angle) * radius,\n                y: Math.sin(angle) * radius\n            });\n        }\n        return points;\n    }, [\n        getRandomInt\n    ]);\n    const createParticle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function() {\n        let initial = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        const { x, y } = initial ? getRandomPosition() : getEdgePosition();\n        let speedX = 0;\n        let speedY = 0;\n        switch(movementDirection){\n            case \"left-to-right\":\n                speedX = getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"right-to-left\":\n                speedX = -getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"top-to-bottom\":\n                speedY = getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"bottom-to-top\":\n                speedY = -getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"left-top-to-right-bottom\":\n                speedX = getRandomInt(minSpeed, maxSpeed) / 10;\n                speedY = getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"right-top-to-left-bottom\":\n                speedX = -getRandomInt(minSpeed, maxSpeed) / 10;\n                speedY = getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"left-bottom-to-right-top\":\n                speedX = getRandomInt(minSpeed, maxSpeed) / 5;\n                speedY = -getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n            case \"right-bottom-to-left-top\":\n                speedX = -getRandomInt(minSpeed, maxSpeed) / 10;\n                speedY = -getRandomInt(minSpeed, maxSpeed) / 10;\n                break;\n        }\n        const size = getRandomInt(pointMinSize, pointMaxSize);\n        const color = pointColors[Math.floor(Math.random() * pointColors.length)];\n        const angle = Math.random() * 2 * Math.PI;\n        const waveAmplitude = Math.random() * 2 + 1; // Smaller, more random amplitude\n        const waveFrequency = Math.random() * 0.05 + 0.01; // Smaller, more random frequency\n        const shape = createIrregularShape(size);\n        return {\n            x,\n            y,\n            size,\n            speedX,\n            speedY,\n            color,\n            visible: true,\n            angle,\n            waveAmplitude,\n            waveFrequency,\n            shape\n        };\n    }, [\n        getRandomPosition,\n        getEdgePosition,\n        getRandomInt,\n        minSpeed,\n        maxSpeed,\n        pointColors,\n        pointMinSize,\n        pointMaxSize,\n        movementDirection,\n        createIrregularShape\n    ]);\n    const resetParticlePosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((particle)=>{\n        const { x, y } = getEdgePosition();\n        particle.x = x;\n        particle.y = y;\n        particle.visible = true;\n        particle.angle = Math.random() * 2 * Math.PI;\n        particle.waveAmplitude = Math.random() * 2 + 1;\n        particle.waveFrequency = Math.random() * 0.05 + 0.01;\n        particle.shape = createIrregularShape(particle.size);\n    }, [\n        getEdgePosition,\n        createIrregularShape\n    ]);\n    const isPointInPolygon = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((point, polygon)=>{\n        let isInside = false;\n        for(let i = 0, j = polygon.length - 1; i < polygon.length; j = i++){\n            const xi = polygon[i].x, yi = polygon[i].y;\n            const xj = polygon[j].x, yj = polygon[j].y;\n            const intersect = yi > point.y !== yj > point.y && point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi;\n            if (intersect) isInside = !isInside;\n        }\n        return isInside;\n    }, []);\n    const updateParticlePosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((particle)=>{\n        particle.angle += particle.waveFrequency;\n        const waveOffset = Math.sin(particle.angle) * particle.waveAmplitude / divade;\n        switch(movementDirection){\n            case \"left-to-right\":\n                particle.x += particle.speedX;\n                particle.y += waveOffset;\n                break;\n            case \"right-to-left\":\n                particle.x += particle.speedX;\n                particle.y += waveOffset;\n                break;\n            case \"top-to-bottom\":\n                particle.y += particle.speedY;\n                particle.x += waveOffset;\n                break;\n            case \"bottom-to-top\":\n                particle.y += particle.speedY;\n                particle.x += waveOffset;\n                break;\n            case \"left-top-to-right-bottom\":\n                particle.x += particle.speedX;\n                particle.y += particle.speedY + waveOffset;\n                break;\n            case \"right-top-to-left-bottom\":\n                particle.x += particle.speedX;\n                particle.y += particle.speedY + waveOffset;\n                break;\n            case \"left-bottom-to-right-top\":\n                particle.x += particle.speedX;\n                particle.y += particle.speedY + waveOffset;\n                break;\n            case \"right-bottom-to-left-top\":\n                particle.x += particle.speedX;\n                particle.y += particle.speedY + waveOffset;\n                break;\n        }\n        if (movementDirection === \"left-to-right\" && particle.x > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) || movementDirection === \"right-to-left\" && particle.x < 0 || movementDirection === \"top-to-bottom\" && particle.y > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568) || movementDirection === \"bottom-to-top\" && particle.y < 0 || movementDirection === \"left-top-to-right-bottom\" && (particle.x > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) || particle.y > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568)) || movementDirection === \"right-top-to-left-bottom\" && (particle.x < 0 || particle.y > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568)) || movementDirection === \"left-bottom-to-right-top\" && (particle.x > (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320) || particle.y < 0) || movementDirection === \"right-bottom-to-left-top\" && (particle.x < 0 || particle.y < 0)) {\n            resetParticlePosition(particle);\n        }\n        particle.visible = spaces.some((space)=>isPointInPolygon({\n                x: particle.x,\n                y: particle.y\n            }, space));\n    }, [\n        movementDirection,\n        resetParticlePosition,\n        spaces,\n        isPointInPolygon\n    ]);\n    const drawParticles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((ctx)=>{\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        particlesRef.current.forEach((particle)=>{\n            if (particle.visible) {\n                ctx.fillStyle = particle.color;\n                ctx.beginPath();\n                ctx.moveTo(particle.x + particle.shape[0].x, particle.y + particle.shape[0].y);\n                particle.shape.forEach((point)=>{\n                    ctx.lineTo(particle.x + point.x, particle.y + point.y);\n                });\n                ctx.closePath();\n                ctx.fill();\n            }\n        });\n    }, [\n        particlesRef.current\n    ]);\n    // const drawSpaces = useCallback((ctx: CanvasRenderingContext2D) => {\n    //   ctx.strokeStyle = '#000000';\n    //   spaces.forEach(space => {\n    //     ctx.beginPath();\n    //     ctx.moveTo(space[0].x, space[0].y);\n    //     space.forEach(point => ctx.lineTo(point.x, point.y));\n    //     ctx.closePath();\n    //     ctx.stroke();\n    //   });\n    // }, [spaces]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(\"2d\");\n        if (ctx) {\n            const animate = ()=>{\n                // console.log(\"?????????????\");\n                particlesRef.current.forEach(updateParticlePosition);\n                drawParticles(ctx);\n                // drawSpaces(ctx);\n                requestAnimationFrame(animate);\n            };\n            if (particlesRef.current.length === 0) {\n                const numParticles = getRandomInt(minParticles, maxParticles);\n                for(let i = 0; i < numParticles; i++){\n                    particlesRef.current.push(createParticle(true));\n                }\n                animate();\n                const timout = setTimeout(()=>{\n                    clearTimeout(timout);\n                    const createParticlesWithDelay = ()=>{\n                        for(let i = 0; i < numParticles; i++){\n                            const timout2 = setTimeout(()=>{\n                                clearTimeout(timout2);\n                                particlesRef.current.push(createParticle(false));\n                            }, i * 200);\n                        }\n                    };\n                    createParticlesWithDelay();\n                }, 1000);\n            }\n        }\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n        id: id,\n        ref: canvasRef,\n        width: (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1920, windowWidth, 320),\n        height: (0,_utils_hooks_functions__WEBPACK_IMPORTED_MODULE_2__.calcVW)(1080, windowWidth, 568)\n    }, void 0, false, {\n        fileName: \"/home/karen/Desktop/projects/upwork/Davo/Blocknite/components/Particles/index.tsx\",\n        lineNumber: 282,\n        columnNumber: 10\n    }, undefined);\n};\n_s(ParticleCanvas, \"Y1gBkZVFvLQU4+7XSMR6maBM3xM=\");\n_c = ParticleCanvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/_c1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(ParticleCanvas));\nvar _c, _c1;\n$RefreshReg$(_c, \"ParticleCanvas\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1BhcnRpY2xlcy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0U7QUFDZjtBQUlyRCxNQUFNTSxpQkFBZ0Q7UUFBQyxFQUNyREMsRUFBRSxFQUNGQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxXQUFXLEVBQ1hDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxpQkFBaUIsRUFDakJDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxNQUFNLEVBQ05DLFdBQVcsRUFDWjs7SUFDQyxNQUFNQyxZQUFZakIsNkNBQU1BLENBQTJCO0lBQ25ELE1BQU1rQixlQUFlbEIsNkNBQU1BLENBQWEsRUFBRTtJQUUxQyxNQUFNbUIsZUFBZWxCLGtEQUFXQSxDQUFDLENBQUNtQixLQUFhQztRQUM3QyxPQUFPQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBTUgsQ0FBQUEsTUFBTUQsTUFBTSxNQUFNQTtJQUN2RCxHQUFHLEVBQUU7SUFFTCxNQUFNSyxvQkFBb0J4QixrREFBV0EsQ0FBQztRQUNwQyxPQUFPO1lBQ0x5QixHQUFHUCxhQUFhLEdBQUloQiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhO1lBQzlDVyxHQUFHUixhQUFhLEdBQUloQiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhO1FBQ2hEO0lBQ0YsR0FBRztRQUFDRztLQUFhO0lBRWpCLE1BQU1TLGtCQUFrQjNCLGtEQUFXQSxDQUFDO1FBQ2xDLElBQUl5QixHQUFHQztRQUNQLE1BQU1FLEtBQUtQLEtBQUtRLEtBQUssQ0FBQ1IsS0FBS0UsTUFBTTtRQUVqQyxPQUFRWjtZQUNOLEtBQUs7Z0JBQ0hjLElBQUk7Z0JBQ0pDLElBQUlSLGFBQWEsR0FBSWhCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWE7Z0JBQy9DO1lBQ0YsS0FBSztnQkFDSFUsSUFBS3ZCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWE7Z0JBQy9CVyxJQUFJUixhQUFhLEdBQUloQiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhO2dCQUMvQztZQUNGLEtBQUs7Z0JBQ0hVLElBQUlQLGFBQWEsR0FBSWhCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWE7Z0JBQy9DVyxJQUFJO2dCQUNKO1lBQ0YsS0FBSztnQkFDSEQsSUFBSVAsYUFBYSxHQUFJaEIsOERBQU1BLENBQUMsTUFBTWEsYUFBYTtnQkFDL0NXLElBQUt4Qiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhO2dCQUMvQjtZQUNGLEtBQUs7Z0JBQ0hVLElBQUlHLEtBQUtQLEtBQUtFLE1BQU0sS0FBTXJCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsT0FBa0I7Z0JBQ3RFVyxJQUFJLENBQUNFLEtBQUtQLEtBQUtFLE1BQU0sS0FBTXJCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsT0FBa0I7Z0JBQ3ZFO1lBQ0YsS0FBSztnQkFDSFUsSUFBSUcsS0FBS1AsS0FBS0UsTUFBTSxLQUFNckIsOERBQU1BLENBQUMsTUFBTWEsYUFBYSxPQUFtQmIsOERBQU1BLENBQUMsTUFBTWEsYUFBYTtnQkFDakdXLElBQUksQ0FBQ0UsS0FBS1AsS0FBS0UsTUFBTSxLQUFNckIsOERBQU1BLENBQUMsTUFBTWEsYUFBYSxPQUFrQjtnQkFDdkU7WUFDRixLQUFLO2dCQUNIVSxJQUFJRyxLQUFLUCxLQUFLRSxNQUFNLEtBQU1yQiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhLE9BQWtCO2dCQUN0RVcsSUFBSSxDQUFDRSxLQUFNLCtEQUFRLEtBQUtiLGFBQWEsT0FBa0JNLEtBQUtFLE1BQU0sS0FBTXJCLDhEQUFNQSxDQUFDLEtBQUthLGFBQWEsT0FBb0JiLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWE7Z0JBQy9JO1lBQ0YsS0FBSztnQkFDSFUsSUFBSUcsS0FBS1AsS0FBS0UsTUFBTSxLQUFNckIsOERBQU1BLENBQUMsTUFBTWEsYUFBYSxPQUFtQmIsOERBQU1BLENBQUMsTUFBTWEsYUFBYTtnQkFDakdXLElBQUksQ0FBQ0UsS0FBS1AsS0FBS0UsTUFBTSxLQUFNckIsOERBQU1BLENBQUMsTUFBTWEsYUFBYSxPQUFtQmIsOERBQU1BLENBQUMsTUFBTWEsYUFBYTtnQkFDbEc7WUFDRjtnQkFDRVUsSUFBSVAsYUFBYSxHQUFJaEIsOERBQU1BLENBQUMsTUFBTWEsYUFBYTtnQkFDL0NXLElBQUlSLGFBQWEsR0FBSWhCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWE7Z0JBQy9DO1FBQ0o7UUFFQSxPQUFPO1lBQUVVO1lBQUdDO1FBQUU7SUFDaEIsR0FBRztRQUFDUjtRQUFjUDtLQUFrQjtJQUVwQyxNQUFNbUIsdUJBQXVCOUIsa0RBQVdBLENBQUMsQ0FBQytCO1FBQ3hDLE1BQU1DLFNBQWtCLEVBQUU7UUFDMUIsTUFBTUMsWUFBWWYsYUFBYSxHQUFHLEtBQUssMkNBQTJDO1FBRWxGLElBQUssSUFBSWdCLElBQUksR0FBR0EsSUFBSUQsV0FBV0MsSUFBSztZQUNsQyxNQUFNQyxRQUFRLElBQUtGLFlBQWFaLEtBQUtlLEVBQUUsR0FBRztZQUMxQyxNQUFNQyxTQUFTTixPQUFPLElBQUlWLEtBQUtFLE1BQU0sS0FBTVEsQ0FBQUEsT0FBTztZQUNsREMsT0FBT00sSUFBSSxDQUFDO2dCQUNWYixHQUFHSixLQUFLa0IsR0FBRyxDQUFDSixTQUFTRTtnQkFDckJYLEdBQUdMLEtBQUttQixHQUFHLENBQUNMLFNBQVNFO1lBQ3ZCO1FBQ0Y7UUFFQSxPQUFPTDtJQUNULEdBQUc7UUFBQ2Q7S0FBYTtJQUVqQixNQUFNdUIsaUJBQWlCekMsa0RBQVdBLENBQUM7WUFBQzBDLDJFQUFtQjtRQUNyRCxNQUFNLEVBQUVqQixDQUFDLEVBQUVDLENBQUMsRUFBRSxHQUFHZ0IsVUFBVWxCLHNCQUFzQkc7UUFDakQsSUFBSWdCLFNBQVM7UUFDYixJQUFJQyxTQUFTO1FBRWIsT0FBUWpDO1lBQ04sS0FBSztnQkFDSGdDLFNBQVN6QixhQUFhWixVQUFVQyxZQUFZO2dCQUM1QztZQUNGLEtBQUs7Z0JBQ0hvQyxTQUFTLENBQUN6QixhQUFhWixVQUFVQyxZQUFZO2dCQUM3QztZQUNGLEtBQUs7Z0JBQ0hxQyxTQUFTMUIsYUFBYVosVUFBVUMsWUFBWTtnQkFDNUM7WUFDRixLQUFLO2dCQUNIcUMsU0FBUyxDQUFDMUIsYUFBYVosVUFBVUMsWUFBWTtnQkFDN0M7WUFDRixLQUFLO2dCQUNIb0MsU0FBU3pCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzVDcUMsU0FBUzFCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzVDO1lBQ0YsS0FBSztnQkFDSG9DLFNBQVMsQ0FBQ3pCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzdDcUMsU0FBUzFCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzVDO1lBQ0YsS0FBSztnQkFDSG9DLFNBQVN6QixhQUFhWixVQUFVQyxZQUFZO2dCQUM1Q3FDLFNBQVMsQ0FBQzFCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzdDO1lBQ0YsS0FBSztnQkFDSG9DLFNBQVMsQ0FBQ3pCLGFBQWFaLFVBQVVDLFlBQVk7Z0JBQzdDcUMsU0FBUyxDQUFDMUIsYUFBYVosVUFBVUMsWUFBWTtnQkFDN0M7UUFDSjtRQUVBLE1BQU13QixPQUFPYixhQUFhVCxjQUFjQztRQUN4QyxNQUFNbUMsUUFBUXJDLFdBQVcsQ0FBQ2EsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUtmLFlBQVlzQyxNQUFNLEVBQUU7UUFDekUsTUFBTVgsUUFBUWQsS0FBS0UsTUFBTSxLQUFLLElBQUlGLEtBQUtlLEVBQUU7UUFDekMsTUFBTVcsZ0JBQWdCMUIsS0FBS0UsTUFBTSxLQUFLLElBQUksR0FBRyxpQ0FBaUM7UUFDOUUsTUFBTXlCLGdCQUFnQjNCLEtBQUtFLE1BQU0sS0FBSyxPQUFPLE1BQU0saUNBQWlDO1FBQ3BGLE1BQU0wQixRQUFRbkIscUJBQXFCQztRQUNuQyxPQUFPO1lBQUVOO1lBQUdDO1lBQUdLO1lBQU1ZO1lBQVFDO1lBQVFDO1lBQU9LLFNBQVM7WUFBTWY7WUFBT1k7WUFBZUM7WUFBZUM7UUFBTTtJQUN4RyxHQUFHO1FBQUN6QjtRQUFtQkc7UUFBaUJUO1FBQWNaO1FBQVVDO1FBQVVDO1FBQWFDO1FBQWNDO1FBQWNDO1FBQW1CbUI7S0FBcUI7SUFFM0osTUFBTXFCLHdCQUF3Qm5ELGtEQUFXQSxDQUFDLENBQUNvRDtRQUN6QyxNQUFNLEVBQUUzQixDQUFDLEVBQUVDLENBQUMsRUFBRSxHQUFHQztRQUNqQnlCLFNBQVMzQixDQUFDLEdBQUdBO1FBQ2IyQixTQUFTMUIsQ0FBQyxHQUFHQTtRQUNiMEIsU0FBU0YsT0FBTyxHQUFHO1FBQ25CRSxTQUFTakIsS0FBSyxHQUFHZCxLQUFLRSxNQUFNLEtBQUssSUFBSUYsS0FBS2UsRUFBRTtRQUM1Q2dCLFNBQVNMLGFBQWEsR0FBRzFCLEtBQUtFLE1BQU0sS0FBSyxJQUFJO1FBQzdDNkIsU0FBU0osYUFBYSxHQUFHM0IsS0FBS0UsTUFBTSxLQUFLLE9BQU87UUFDaEQ2QixTQUFTSCxLQUFLLEdBQUduQixxQkFBcUJzQixTQUFTckIsSUFBSTtJQUNyRCxHQUFHO1FBQUNKO1FBQWlCRztLQUFxQjtJQUUxQyxNQUFNdUIsbUJBQW1CckQsa0RBQVdBLENBQUMsQ0FBQ3NELE9BQWNDO1FBQ2xELElBQUlDLFdBQVc7UUFDZixJQUFLLElBQUl0QixJQUFJLEdBQUd1QixJQUFJRixRQUFRVCxNQUFNLEdBQUcsR0FBR1osSUFBSXFCLFFBQVFULE1BQU0sRUFBRVcsSUFBSXZCLElBQUs7WUFDbkUsTUFBTXdCLEtBQUtILE9BQU8sQ0FBQ3JCLEVBQUUsQ0FBQ1QsQ0FBQyxFQUFFa0MsS0FBS0osT0FBTyxDQUFDckIsRUFBRSxDQUFDUixDQUFDO1lBQzFDLE1BQU1rQyxLQUFLTCxPQUFPLENBQUNFLEVBQUUsQ0FBQ2hDLENBQUMsRUFBRW9DLEtBQUtOLE9BQU8sQ0FBQ0UsRUFBRSxDQUFDL0IsQ0FBQztZQUMxQyxNQUFNb0MsWUFBWSxLQUFPUixNQUFNNUIsQ0FBQyxLQUFPbUMsS0FBS1AsTUFBTTVCLENBQUMsSUFDaEQ0QixNQUFNN0IsQ0FBQyxHQUFHLENBQUNtQyxLQUFLRixFQUFDLElBQU1KLENBQUFBLE1BQU01QixDQUFDLEdBQUdpQyxFQUFDLElBQU1FLENBQUFBLEtBQUtGLEVBQUMsSUFBS0Q7WUFDdEQsSUFBSUksV0FBV04sV0FBVyxDQUFDQTtRQUM3QjtRQUNBLE9BQU9BO0lBQ1QsR0FBRyxFQUFFO0lBRUwsTUFBTU8seUJBQXlCL0Qsa0RBQVdBLENBQUMsQ0FBQ29EO1FBQzFDQSxTQUFTakIsS0FBSyxJQUFJaUIsU0FBU0osYUFBYTtRQUN4QyxNQUFNZ0IsYUFBYSxLQUFNeEIsR0FBRyxDQUFDWSxTQUFTakIsS0FBSyxJQUFJaUIsU0FBU0wsYUFBYSxHQUFJakM7UUFFekUsT0FBUUg7WUFDTixLQUFLO2dCQUNIeUMsU0FBUzNCLENBQUMsSUFBSTJCLFNBQVNULE1BQU07Z0JBQzdCUyxTQUFTMUIsQ0FBQyxJQUFJc0M7Z0JBQ2Q7WUFDRixLQUFLO2dCQUNIWixTQUFTM0IsQ0FBQyxJQUFJMkIsU0FBU1QsTUFBTTtnQkFDN0JTLFNBQVMxQixDQUFDLElBQUlzQztnQkFDZDtZQUNGLEtBQUs7Z0JBQ0haLFNBQVMxQixDQUFDLElBQUkwQixTQUFTUixNQUFNO2dCQUM3QlEsU0FBUzNCLENBQUMsSUFBSXVDO2dCQUNkO1lBQ0YsS0FBSztnQkFDSFosU0FBUzFCLENBQUMsSUFBSTBCLFNBQVNSLE1BQU07Z0JBQzdCUSxTQUFTM0IsQ0FBQyxJQUFJdUM7Z0JBQ2Q7WUFDRixLQUFLO2dCQUNIWixTQUFTM0IsQ0FBQyxJQUFJMkIsU0FBU1QsTUFBTTtnQkFDN0JTLFNBQVMxQixDQUFDLElBQUkwQixTQUFTUixNQUFNLEdBQUdvQjtnQkFDaEM7WUFDRixLQUFLO2dCQUNIWixTQUFTM0IsQ0FBQyxJQUFJMkIsU0FBU1QsTUFBTTtnQkFDN0JTLFNBQVMxQixDQUFDLElBQUkwQixTQUFTUixNQUFNLEdBQUdvQjtnQkFDaEM7WUFDRixLQUFLO2dCQUNIWixTQUFTM0IsQ0FBQyxJQUFJMkIsU0FBU1QsTUFBTTtnQkFDN0JTLFNBQVMxQixDQUFDLElBQUkwQixTQUFTUixNQUFNLEdBQUdvQjtnQkFDaEM7WUFDRixLQUFLO2dCQUNIWixTQUFTM0IsQ0FBQyxJQUFJMkIsU0FBU1QsTUFBTTtnQkFDN0JTLFNBQVMxQixDQUFDLElBQUkwQixTQUFTUixNQUFNLEdBQUdvQjtnQkFDaEM7UUFDSjtRQUVBLElBQ0Usc0JBQXVCLG1CQUFtQlosU0FBUzNCLENBQUMsR0FBSXZCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsUUFDakZKLHNCQUFzQixtQkFBbUJ5QyxTQUFTM0IsQ0FBQyxHQUFHLEtBQ3REZCxzQkFBc0IsbUJBQW1CeUMsU0FBUzFCLENBQUMsR0FBSXhCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsUUFDakZKLHNCQUFzQixtQkFBbUJ5QyxTQUFTMUIsQ0FBQyxHQUFHLEtBQ3REZixzQkFBc0IsOEJBQStCeUMsQ0FBQUEsU0FBUzNCLENBQUMsR0FBSXZCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsUUFBbUJxQyxTQUFTMUIsQ0FBQyxHQUFJeEIsOERBQU1BLENBQUMsTUFBTWEsYUFBYSxJQUFjLEtBQ3RLSixzQkFBc0IsOEJBQStCeUMsQ0FBQUEsU0FBUzNCLENBQUMsR0FBRyxLQUFLMkIsU0FBUzFCLENBQUMsR0FBSXhCLDhEQUFNQSxDQUFDLE1BQU1hLGFBQWEsSUFBYyxLQUM3SEosc0JBQXNCLDhCQUErQnlDLENBQUFBLFNBQVMzQixDQUFDLEdBQUl2Qiw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhLFFBQW1CcUMsU0FBUzFCLENBQUMsR0FBRyxNQUM3SGYsc0JBQXNCLDhCQUErQnlDLENBQUFBLFNBQVMzQixDQUFDLEdBQUcsS0FBSzJCLFNBQVMxQixDQUFDLEdBQUcsSUFDckY7WUFDQXlCLHNCQUFzQkM7UUFDeEI7UUFFQUEsU0FBU0YsT0FBTyxHQUFHN0MsT0FBTzRELElBQUksQ0FBQ0MsQ0FBQUEsUUFBU2IsaUJBQWlCO2dCQUFFNUIsR0FBRzJCLFNBQVMzQixDQUFDO2dCQUFFQyxHQUFHMEIsU0FBUzFCLENBQUM7WUFBQyxHQUFHd0M7SUFDN0YsR0FBRztRQUFDdkQ7UUFBbUJ3QztRQUF1QjlDO1FBQVFnRDtLQUFpQjtJQUV2RSxNQUFNYyxnQkFBZ0JuRSxrREFBV0EsQ0FBQyxDQUFDb0U7UUFDakNBLElBQUlDLFNBQVMsQ0FBQyxHQUFHLEdBQUdELElBQUlFLE1BQU0sQ0FBQ0MsS0FBSyxFQUFFSCxJQUFJRSxNQUFNLENBQUNFLE1BQU07UUFDdkR2RCxhQUFhd0QsT0FBTyxDQUFDQyxPQUFPLENBQUN0QixDQUFBQTtZQUMzQixJQUFJQSxTQUFTRixPQUFPLEVBQUU7Z0JBQ3BCa0IsSUFBSU8sU0FBUyxHQUFHdkIsU0FBU1AsS0FBSztnQkFDOUJ1QixJQUFJUSxTQUFTO2dCQUNiUixJQUFJUyxNQUFNLENBQUN6QixTQUFTM0IsQ0FBQyxHQUFHMkIsU0FBU0gsS0FBSyxDQUFDLEVBQUUsQ0FBQ3hCLENBQUMsRUFBRTJCLFNBQVMxQixDQUFDLEdBQUcwQixTQUFTSCxLQUFLLENBQUMsRUFBRSxDQUFDdkIsQ0FBQztnQkFDN0UwQixTQUFTSCxLQUFLLENBQUN5QixPQUFPLENBQUNwQixDQUFBQTtvQkFDckJjLElBQUlVLE1BQU0sQ0FBQzFCLFNBQVMzQixDQUFDLEdBQUc2QixNQUFNN0IsQ0FBQyxFQUFFMkIsU0FBUzFCLENBQUMsR0FBRzRCLE1BQU01QixDQUFDO2dCQUN2RDtnQkFDQTBDLElBQUlXLFNBQVM7Z0JBQ2JYLElBQUlZLElBQUk7WUFDVjtRQUNGO0lBQ0YsR0FBRztRQUFDL0QsYUFBYXdELE9BQU87S0FBQztJQUV6QixzRUFBc0U7SUFDdEUsaUNBQWlDO0lBQ2pDLDhCQUE4QjtJQUM5Qix1QkFBdUI7SUFDdkIsMENBQTBDO0lBQzFDLDREQUE0RDtJQUM1RCx1QkFBdUI7SUFDdkIsb0JBQW9CO0lBQ3BCLFFBQVE7SUFDUixnQkFBZ0I7SUFFaEIzRSxnREFBU0EsQ0FBQztRQUNSLE1BQU13RSxTQUFTdEQsVUFBVXlELE9BQU87UUFDaEMsTUFBTUwsTUFBTUUsbUJBQUFBLDZCQUFBQSxPQUFRVyxVQUFVLENBQUM7UUFDL0IsSUFBSWIsS0FBSztZQUNQLE1BQU1jLFVBQVU7Z0JBQ2QsZ0NBQWdDO2dCQUVoQ2pFLGFBQWF3RCxPQUFPLENBQUNDLE9BQU8sQ0FBQ1g7Z0JBQzdCSSxjQUFjQztnQkFDZCxtQkFBbUI7Z0JBQ25CZSxzQkFBc0JEO1lBQ3hCO1lBRUEsSUFBSWpFLGFBQWF3RCxPQUFPLENBQUMzQixNQUFNLEtBQUssR0FBRztnQkFDckMsTUFBTXNDLGVBQWVsRSxhQUFhTixjQUFjQztnQkFFaEQsSUFBSyxJQUFJcUIsSUFBSSxHQUFHQSxJQUFJa0QsY0FBY2xELElBQUs7b0JBQ3JDakIsYUFBYXdELE9BQU8sQ0FBQ25DLElBQUksQ0FBQ0csZUFBZTtnQkFDM0M7Z0JBQ0F5QztnQkFDQSxNQUFNRyxTQUFTQyxXQUFXO29CQUN4QkMsYUFBYUY7b0JBQ2IsTUFBTUcsMkJBQTJCO3dCQUMvQixJQUFLLElBQUl0RCxJQUFJLEdBQUdBLElBQUlrRCxjQUFjbEQsSUFBSzs0QkFDckMsTUFBTXVELFVBQVVILFdBQVc7Z0NBQ3pCQyxhQUFhRTtnQ0FDYnhFLGFBQWF3RCxPQUFPLENBQUNuQyxJQUFJLENBQUNHLGVBQWU7NEJBQzNDLEdBQUdQLElBQUk7d0JBQ1Q7b0JBQ0Y7b0JBQ0FzRDtnQkFDRixHQUFHO1lBQ0w7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLHFCQUFPLDhEQUFDbEI7UUFBT2xFLElBQUlBO1FBQUlzRixLQUFLMUU7UUFBV3VELE9BQU9yRSw4REFBTUEsQ0FBQyxNQUFNYSxhQUFhO1FBQU15RCxRQUFRdEUsOERBQU1BLENBQUMsTUFBTWEsYUFBYTs7Ozs7O0FBQ2xIO0dBclJNWjtLQUFBQTtBQXVSTixrRkFBZUYsMkNBQUlBLENBQUNFLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9QYXJ0aWNsZXMvaW5kZXgudHN4Pzc3ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNhbGNWVyB9IGZyb20gJy4uLy4uL3V0aWxzL2hvb2tzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBQYXJ0aWNsZSwgUGFydGljbGVDYW52YXNQcm9wcywgUG9pbnQgfSBmcm9tICcuLi8uLi91dGlscy9pbnRlcmZhY2UvcGFydGljbGVzJztcblxuXG5jb25zdCBQYXJ0aWNsZUNhbnZhczogUmVhY3QuRkM8UGFydGljbGVDYW52YXNQcm9wcz4gPSAoe1xuICBpZCxcbiAgc3BhY2VzLFxuICBtaW5TcGVlZCxcbiAgbWF4U3BlZWQsXG4gIHBvaW50Q29sb3JzLFxuICBwb2ludE1pblNpemUsXG4gIHBvaW50TWF4U2l6ZSxcbiAgbW92ZW1lbnREaXJlY3Rpb24sXG4gIG1pblBhcnRpY2xlcyxcbiAgbWF4UGFydGljbGVzLFxuICBkaXZhZGUsXG4gIHdpbmRvd1dpZHRoXG59KSA9PiB7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBwYXJ0aWNsZXNSZWYgPSB1c2VSZWY8UGFydGljbGVbXT4oW10pO1xuXG4gIGNvbnN0IGdldFJhbmRvbUludCA9IHVzZUNhbGxiYWNrKChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZ2V0UmFuZG9tUG9zaXRpb24gPSB1c2VDYWxsYmFjaygoKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZ2V0UmFuZG9tSW50KDAsIChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSksXG4gICAgICB5OiBnZXRSYW5kb21JbnQoMCwgKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpKSxcbiAgICB9O1xuICB9LCBbZ2V0UmFuZG9tSW50XSk7XG5cbiAgY29uc3QgZ2V0RWRnZVBvc2l0aW9uID0gdXNlQ2FsbGJhY2soKCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSA9PiB7XG4gICAgbGV0IHgsIHk7XG4gICAgY29uc3QgaXMgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpXG5cbiAgICBzd2l0Y2ggKG1vdmVtZW50RGlyZWN0aW9uKSB7XG4gICAgICBjYXNlICdsZWZ0LXRvLXJpZ2h0JzpcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIHkgPSBnZXRSYW5kb21JbnQoMCwgKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodC10by1sZWZ0JzpcbiAgICAgICAgeCA9IChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKTtcbiAgICAgICAgeSA9IGdldFJhbmRvbUludCgwLCAoY2FsY1ZXKDEwODAsIHdpbmRvd1dpZHRoLCA1NjgpIGFzIG51bWJlcikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcC10by1ib3R0b20nOlxuICAgICAgICB4ID0gZ2V0UmFuZG9tSW50KDAsIChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSk7XG4gICAgICAgIHkgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbS10by10b3AnOlxuICAgICAgICB4ID0gZ2V0UmFuZG9tSW50KDAsIChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSk7XG4gICAgICAgIHkgPSAoY2FsY1ZXKDEwODAsIHdpbmRvd1dpZHRoLCA1NjgpIGFzIG51bWJlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVmdC10b3AtdG8tcmlnaHQtYm90dG9tJzpcbiAgICAgICAgeCA9IGlzID8gTWF0aC5yYW5kb20oKSAqIChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSA6IDA7XG4gICAgICAgIHkgPSAhaXMgPyBNYXRoLnJhbmRvbSgpICogKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpIDogMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodC10b3AtdG8tbGVmdC1ib3R0b20nOlxuICAgICAgICB4ID0gaXMgPyBNYXRoLnJhbmRvbSgpICogKGNhbGNWVygxOTIwLCB3aW5kb3dXaWR0aCwgMzIwKSBhcyBudW1iZXIpIDogKGNhbGNWVygxOTIwLCB3aW5kb3dXaWR0aCwgMzIwKSBhcyBudW1iZXIpO1xuICAgICAgICB5ID0gIWlzID8gTWF0aC5yYW5kb20oKSAqIChjYWxjVlcoMTA4MCwgd2luZG93V2lkdGgsIDU2OCkgYXMgbnVtYmVyKSA6IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVmdC1ib3R0b20tdG8tcmlnaHQtdG9wJzpcbiAgICAgICAgeCA9IGlzID8gTWF0aC5yYW5kb20oKSAqIChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSA6IDA7XG4gICAgICAgIHkgPSAhaXMgPyAoKGNhbGNWVyg4MDAsIHdpbmRvd1dpZHRoLCAyMzgpIGFzIG51bWJlcikgKyBNYXRoLnJhbmRvbSgpICogKGNhbGNWVygyODAsIHdpbmRvd1dpZHRoLCAzMzApIGFzIG51bWJlcikpIDogKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpZ2h0LWJvdHRvbS10by1sZWZ0LXRvcCc6XG4gICAgICAgIHggPSBpcyA/IE1hdGgucmFuZG9tKCkgKiAoY2FsY1ZXKDE5MjAsIHdpbmRvd1dpZHRoLCAzMjApIGFzIG51bWJlcikgOiAoY2FsY1ZXKDE5MjAsIHdpbmRvd1dpZHRoLCAzMjApIGFzIG51bWJlcik7XG4gICAgICAgIHkgPSAhaXMgPyBNYXRoLnJhbmRvbSgpICogKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpIDogKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHggPSBnZXRSYW5kb21JbnQoMCwgKGNhbGNWVygxOTIwLCB3aW5kb3dXaWR0aCwgMzIwKSBhcyBudW1iZXIpKTtcbiAgICAgICAgeSA9IGdldFJhbmRvbUludCgwLCAoY2FsY1ZXKDEwODAsIHdpbmRvd1dpZHRoLCA1NjgpIGFzIG51bWJlcikpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4geyB4LCB5IH07XG4gIH0sIFtnZXRSYW5kb21JbnQsIG1vdmVtZW50RGlyZWN0aW9uXSk7XG5cbiAgY29uc3QgY3JlYXRlSXJyZWd1bGFyU2hhcGUgPSB1c2VDYWxsYmFjaygoc2l6ZTogbnVtYmVyKTogUG9pbnRbXSA9PiB7XG4gICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XG4gICAgY29uc3QgbnVtUG9pbnRzID0gZ2V0UmFuZG9tSW50KDUsIDEwKTsgLy8gTnVtYmVyIG9mIHBvaW50cyBmb3IgdGhlIGlycmVndWxhciBzaGFwZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKykge1xuICAgICAgY29uc3QgYW5nbGUgPSAoaSAvIG51bVBvaW50cykgKiBNYXRoLlBJICogMjtcbiAgICAgIGNvbnN0IHJhZGl1cyA9IHNpemUgLyAyICsgTWF0aC5yYW5kb20oKSAqIChzaXplIC8gMik7XG4gICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgIHg6IE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cyxcbiAgICAgICAgeTogTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbiAgfSwgW2dldFJhbmRvbUludF0pO1xuXG4gIGNvbnN0IGNyZWF0ZVBhcnRpY2xlID0gdXNlQ2FsbGJhY2soKGluaXRpYWw6IGJvb2xlYW4gPSBmYWxzZSk6IFBhcnRpY2xlID0+IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IGluaXRpYWwgPyBnZXRSYW5kb21Qb3NpdGlvbigpIDogZ2V0RWRnZVBvc2l0aW9uKCk7XG4gICAgbGV0IHNwZWVkWCA9IDA7XG4gICAgbGV0IHNwZWVkWSA9IDA7XG5cbiAgICBzd2l0Y2ggKG1vdmVtZW50RGlyZWN0aW9uKSB7XG4gICAgICBjYXNlICdsZWZ0LXRvLXJpZ2h0JzpcbiAgICAgICAgc3BlZWRYID0gZ2V0UmFuZG9tSW50KG1pblNwZWVkLCBtYXhTcGVlZCkgLyAxMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodC10by1sZWZ0JzpcbiAgICAgICAgc3BlZWRYID0gLWdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wLXRvLWJvdHRvbSc6XG4gICAgICAgIHNwZWVkWSA9IGdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tLXRvLXRvcCc6XG4gICAgICAgIHNwZWVkWSA9IC1nZXRSYW5kb21JbnQobWluU3BlZWQsIG1heFNwZWVkKSAvIDEwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xlZnQtdG9wLXRvLXJpZ2h0LWJvdHRvbSc6XG4gICAgICAgIHNwZWVkWCA9IGdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIHNwZWVkWSA9IGdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQtdG9wLXRvLWxlZnQtYm90dG9tJzpcbiAgICAgICAgc3BlZWRYID0gLWdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIHNwZWVkWSA9IGdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVmdC1ib3R0b20tdG8tcmlnaHQtdG9wJzpcbiAgICAgICAgc3BlZWRYID0gZ2V0UmFuZG9tSW50KG1pblNwZWVkLCBtYXhTcGVlZCkgLyA1O1xuICAgICAgICBzcGVlZFkgPSAtZ2V0UmFuZG9tSW50KG1pblNwZWVkLCBtYXhTcGVlZCkgLyAxMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodC1ib3R0b20tdG8tbGVmdC10b3AnOlxuICAgICAgICBzcGVlZFggPSAtZ2V0UmFuZG9tSW50KG1pblNwZWVkLCBtYXhTcGVlZCkgLyAxMDtcbiAgICAgICAgc3BlZWRZID0gLWdldFJhbmRvbUludChtaW5TcGVlZCwgbWF4U3BlZWQpIC8gMTA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IHNpemUgPSBnZXRSYW5kb21JbnQocG9pbnRNaW5TaXplLCBwb2ludE1heFNpemUpO1xuICAgIGNvbnN0IGNvbG9yID0gcG9pbnRDb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9pbnRDb2xvcnMubGVuZ3RoKV07XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLnJhbmRvbSgpICogMiAqIE1hdGguUEk7XG4gICAgY29uc3Qgd2F2ZUFtcGxpdHVkZSA9IE1hdGgucmFuZG9tKCkgKiAyICsgMTsgLy8gU21hbGxlciwgbW9yZSByYW5kb20gYW1wbGl0dWRlXG4gICAgY29uc3Qgd2F2ZUZyZXF1ZW5jeSA9IE1hdGgucmFuZG9tKCkgKiAwLjA1ICsgMC4wMTsgLy8gU21hbGxlciwgbW9yZSByYW5kb20gZnJlcXVlbmN5XG4gICAgY29uc3Qgc2hhcGUgPSBjcmVhdGVJcnJlZ3VsYXJTaGFwZShzaXplKTtcbiAgICByZXR1cm4geyB4LCB5LCBzaXplLCBzcGVlZFgsIHNwZWVkWSwgY29sb3IsIHZpc2libGU6IHRydWUsIGFuZ2xlLCB3YXZlQW1wbGl0dWRlLCB3YXZlRnJlcXVlbmN5LCBzaGFwZSB9O1xuICB9LCBbZ2V0UmFuZG9tUG9zaXRpb24sIGdldEVkZ2VQb3NpdGlvbiwgZ2V0UmFuZG9tSW50LCBtaW5TcGVlZCwgbWF4U3BlZWQsIHBvaW50Q29sb3JzLCBwb2ludE1pblNpemUsIHBvaW50TWF4U2l6ZSwgbW92ZW1lbnREaXJlY3Rpb24sIGNyZWF0ZUlycmVndWxhclNoYXBlXSk7XG5cbiAgY29uc3QgcmVzZXRQYXJ0aWNsZVBvc2l0aW9uID0gdXNlQ2FsbGJhY2soKHBhcnRpY2xlOiBQYXJ0aWNsZSkgPT4ge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gZ2V0RWRnZVBvc2l0aW9uKCk7XG4gICAgcGFydGljbGUueCA9IHg7XG4gICAgcGFydGljbGUueSA9IHk7XG4gICAgcGFydGljbGUudmlzaWJsZSA9IHRydWU7XG4gICAgcGFydGljbGUuYW5nbGUgPSBNYXRoLnJhbmRvbSgpICogMiAqIE1hdGguUEk7XG4gICAgcGFydGljbGUud2F2ZUFtcGxpdHVkZSA9IE1hdGgucmFuZG9tKCkgKiAyICsgMTtcbiAgICBwYXJ0aWNsZS53YXZlRnJlcXVlbmN5ID0gTWF0aC5yYW5kb20oKSAqIDAuMDUgKyAwLjAxO1xuICAgIHBhcnRpY2xlLnNoYXBlID0gY3JlYXRlSXJyZWd1bGFyU2hhcGUocGFydGljbGUuc2l6ZSk7XG4gIH0sIFtnZXRFZGdlUG9zaXRpb24sIGNyZWF0ZUlycmVndWxhclNoYXBlXSk7XG5cbiAgY29uc3QgaXNQb2ludEluUG9seWdvbiA9IHVzZUNhbGxiYWNrKChwb2ludDogUG9pbnQsIHBvbHlnb246IFBvaW50W10pOiBib29sZWFuID0+IHtcbiAgICBsZXQgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ueCwgeWkgPSBwb2x5Z29uW2ldLnk7XG4gICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ueCwgeWogPSBwb2x5Z29uW2pdLnk7XG4gICAgICBjb25zdCBpbnRlcnNlY3QgPSAoKHlpID4gcG9pbnQueSkgIT09ICh5aiA+IHBvaW50LnkpKSAmJlxuICAgICAgICAocG9pbnQueCA8ICh4aiAtIHhpKSAqIChwb2ludC55IC0geWkpIC8gKHlqIC0geWkpICsgeGkpO1xuICAgICAgaWYgKGludGVyc2VjdCkgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHVwZGF0ZVBhcnRpY2xlUG9zaXRpb24gPSB1c2VDYWxsYmFjaygocGFydGljbGU6IFBhcnRpY2xlKSA9PiB7XG4gICAgcGFydGljbGUuYW5nbGUgKz0gcGFydGljbGUud2F2ZUZyZXF1ZW5jeTtcbiAgICBjb25zdCB3YXZlT2Zmc2V0ID0gKE1hdGguc2luKHBhcnRpY2xlLmFuZ2xlKSAqIHBhcnRpY2xlLndhdmVBbXBsaXR1ZGUpIC8gZGl2YWRlO1xuXG4gICAgc3dpdGNoIChtb3ZlbWVudERpcmVjdGlvbikge1xuICAgICAgY2FzZSAnbGVmdC10by1yaWdodCc6XG4gICAgICAgIHBhcnRpY2xlLnggKz0gcGFydGljbGUuc3BlZWRYO1xuICAgICAgICBwYXJ0aWNsZS55ICs9IHdhdmVPZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQtdG8tbGVmdCc6XG4gICAgICAgIHBhcnRpY2xlLnggKz0gcGFydGljbGUuc3BlZWRYO1xuICAgICAgICBwYXJ0aWNsZS55ICs9IHdhdmVPZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wLXRvLWJvdHRvbSc6XG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuc3BlZWRZO1xuICAgICAgICBwYXJ0aWNsZS54ICs9IHdhdmVPZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tLXRvLXRvcCc6XG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuc3BlZWRZO1xuICAgICAgICBwYXJ0aWNsZS54ICs9IHdhdmVPZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVmdC10b3AtdG8tcmlnaHQtYm90dG9tJzpcbiAgICAgICAgcGFydGljbGUueCArPSBwYXJ0aWNsZS5zcGVlZFg7XG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuc3BlZWRZICsgd2F2ZU9mZnNldDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodC10b3AtdG8tbGVmdC1ib3R0b20nOlxuICAgICAgICBwYXJ0aWNsZS54ICs9IHBhcnRpY2xlLnNwZWVkWDtcbiAgICAgICAgcGFydGljbGUueSArPSBwYXJ0aWNsZS5zcGVlZFkgKyB3YXZlT2Zmc2V0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xlZnQtYm90dG9tLXRvLXJpZ2h0LXRvcCc6XG4gICAgICAgIHBhcnRpY2xlLnggKz0gcGFydGljbGUuc3BlZWRYO1xuICAgICAgICBwYXJ0aWNsZS55ICs9IHBhcnRpY2xlLnNwZWVkWSArIHdhdmVPZmZzZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQtYm90dG9tLXRvLWxlZnQtdG9wJzpcbiAgICAgICAgcGFydGljbGUueCArPSBwYXJ0aWNsZS5zcGVlZFg7XG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuc3BlZWRZICsgd2F2ZU9mZnNldDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKG1vdmVtZW50RGlyZWN0aW9uID09PSAnbGVmdC10by1yaWdodCcgJiYgcGFydGljbGUueCA+IChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSkgfHxcbiAgICAgIChtb3ZlbWVudERpcmVjdGlvbiA9PT0gJ3JpZ2h0LXRvLWxlZnQnICYmIHBhcnRpY2xlLnggPCAwKSB8fFxuICAgICAgKG1vdmVtZW50RGlyZWN0aW9uID09PSAndG9wLXRvLWJvdHRvbScgJiYgcGFydGljbGUueSA+IChjYWxjVlcoMTA4MCwgd2luZG93V2lkdGgsIDU2OCkgYXMgbnVtYmVyKSkgfHxcbiAgICAgIChtb3ZlbWVudERpcmVjdGlvbiA9PT0gJ2JvdHRvbS10by10b3AnICYmIHBhcnRpY2xlLnkgPCAwKSB8fFxuICAgICAgKG1vdmVtZW50RGlyZWN0aW9uID09PSAnbGVmdC10b3AtdG8tcmlnaHQtYm90dG9tJyAmJiAocGFydGljbGUueCA+IChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSB8fCBwYXJ0aWNsZS55ID4gKGNhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KSBhcyBudW1iZXIpKSkgfHxcbiAgICAgIChtb3ZlbWVudERpcmVjdGlvbiA9PT0gJ3JpZ2h0LXRvcC10by1sZWZ0LWJvdHRvbScgJiYgKHBhcnRpY2xlLnggPCAwIHx8IHBhcnRpY2xlLnkgPiAoY2FsY1ZXKDEwODAsIHdpbmRvd1dpZHRoLCA1NjgpIGFzIG51bWJlcikpKSB8fFxuICAgICAgKG1vdmVtZW50RGlyZWN0aW9uID09PSAnbGVmdC1ib3R0b20tdG8tcmlnaHQtdG9wJyAmJiAocGFydGljbGUueCA+IChjYWxjVlcoMTkyMCwgd2luZG93V2lkdGgsIDMyMCkgYXMgbnVtYmVyKSB8fCBwYXJ0aWNsZS55IDwgMCkpIHx8XG4gICAgICAobW92ZW1lbnREaXJlY3Rpb24gPT09ICdyaWdodC1ib3R0b20tdG8tbGVmdC10b3AnICYmIChwYXJ0aWNsZS54IDwgMCB8fCBwYXJ0aWNsZS55IDwgMCkpXG4gICAgKSB7XG4gICAgICByZXNldFBhcnRpY2xlUG9zaXRpb24ocGFydGljbGUpO1xuICAgIH1cblxuICAgIHBhcnRpY2xlLnZpc2libGUgPSBzcGFjZXMuc29tZShzcGFjZSA9PiBpc1BvaW50SW5Qb2x5Z29uKHsgeDogcGFydGljbGUueCwgeTogcGFydGljbGUueSB9LCBzcGFjZSkpO1xuICB9LCBbbW92ZW1lbnREaXJlY3Rpb24sIHJlc2V0UGFydGljbGVQb3NpdGlvbiwgc3BhY2VzLCBpc1BvaW50SW5Qb2x5Z29uXSk7XG5cbiAgY29uc3QgZHJhd1BhcnRpY2xlcyA9IHVzZUNhbGxiYWNrKChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50LmZvckVhY2gocGFydGljbGUgPT4ge1xuICAgICAgaWYgKHBhcnRpY2xlLnZpc2libGUpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8ocGFydGljbGUueCArIHBhcnRpY2xlLnNoYXBlWzBdLngsIHBhcnRpY2xlLnkgKyBwYXJ0aWNsZS5zaGFwZVswXS55KTtcbiAgICAgICAgcGFydGljbGUuc2hhcGUuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgICAgICAgY3R4LmxpbmVUbyhwYXJ0aWNsZS54ICsgcG9pbnQueCwgcGFydGljbGUueSArIHBvaW50LnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbcGFydGljbGVzUmVmLmN1cnJlbnRdKTtcblxuICAvLyBjb25zdCBkcmF3U3BhY2VzID0gdXNlQ2FsbGJhY2soKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XG4gIC8vICAgY3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnO1xuICAvLyAgIHNwYWNlcy5mb3JFYWNoKHNwYWNlID0+IHtcbiAgLy8gICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgLy8gICAgIGN0eC5tb3ZlVG8oc3BhY2VbMF0ueCwgc3BhY2VbMF0ueSk7XG4gIC8vICAgICBzcGFjZS5mb3JFYWNoKHBvaW50ID0+IGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSkpO1xuICAvLyAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAvLyAgICAgY3R4LnN0cm9rZSgpO1xuICAvLyAgIH0pO1xuICAvLyB9LCBbc3BhY2VzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXM/LmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKGN0eCkge1xuICAgICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCI/Pz8/Pz8/Pz8/Pz8/XCIpO1xuICAgICAgICBcbiAgICAgICAgcGFydGljbGVzUmVmLmN1cnJlbnQuZm9yRWFjaCh1cGRhdGVQYXJ0aWNsZVBvc2l0aW9uKTtcbiAgICAgICAgZHJhd1BhcnRpY2xlcyhjdHgpO1xuICAgICAgICAvLyBkcmF3U3BhY2VzKGN0eCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChwYXJ0aWNsZXNSZWYuY3VycmVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbnVtUGFydGljbGVzID0gZ2V0UmFuZG9tSW50KG1pblBhcnRpY2xlcywgbWF4UGFydGljbGVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBhcnRpY2xlczsgaSsrKSB7XG4gICAgICAgICAgcGFydGljbGVzUmVmLmN1cnJlbnQucHVzaChjcmVhdGVQYXJ0aWNsZSh0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICBjb25zdCB0aW1vdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltb3V0KTtcbiAgICAgICAgICBjb25zdCBjcmVhdGVQYXJ0aWNsZXNXaXRoRGVsYXkgPSAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBhcnRpY2xlczsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRpbW91dDIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltb3V0Mik7XG4gICAgICAgICAgICAgICAgcGFydGljbGVzUmVmLmN1cnJlbnQucHVzaChjcmVhdGVQYXJ0aWNsZShmYWxzZSkpO1xuICAgICAgICAgICAgICB9LCBpICogMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNyZWF0ZVBhcnRpY2xlc1dpdGhEZWxheSgpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4gPGNhbnZhcyBpZD17aWR9IHJlZj17Y2FudmFzUmVmfSB3aWR0aD17Y2FsY1ZXKDE5MjAsIHdpbmRvd1dpZHRoLCAzMjApfSBoZWlnaHQ9e2NhbGNWVygxMDgwLCB3aW5kb3dXaWR0aCwgNTY4KX0gLz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtZW1vKFBhcnRpY2xlQ2FudmFzKTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwibWVtbyIsImNhbGNWVyIsIlBhcnRpY2xlQ2FudmFzIiwiaWQiLCJzcGFjZXMiLCJtaW5TcGVlZCIsIm1heFNwZWVkIiwicG9pbnRDb2xvcnMiLCJwb2ludE1pblNpemUiLCJwb2ludE1heFNpemUiLCJtb3ZlbWVudERpcmVjdGlvbiIsIm1pblBhcnRpY2xlcyIsIm1heFBhcnRpY2xlcyIsImRpdmFkZSIsIndpbmRvd1dpZHRoIiwiY2FudmFzUmVmIiwicGFydGljbGVzUmVmIiwiZ2V0UmFuZG9tSW50IiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZ2V0UmFuZG9tUG9zaXRpb24iLCJ4IiwieSIsImdldEVkZ2VQb3NpdGlvbiIsImlzIiwicm91bmQiLCJjcmVhdGVJcnJlZ3VsYXJTaGFwZSIsInNpemUiLCJwb2ludHMiLCJudW1Qb2ludHMiLCJpIiwiYW5nbGUiLCJQSSIsInJhZGl1cyIsInB1c2giLCJjb3MiLCJzaW4iLCJjcmVhdGVQYXJ0aWNsZSIsImluaXRpYWwiLCJzcGVlZFgiLCJzcGVlZFkiLCJjb2xvciIsImxlbmd0aCIsIndhdmVBbXBsaXR1ZGUiLCJ3YXZlRnJlcXVlbmN5Iiwic2hhcGUiLCJ2aXNpYmxlIiwicmVzZXRQYXJ0aWNsZVBvc2l0aW9uIiwicGFydGljbGUiLCJpc1BvaW50SW5Qb2x5Z29uIiwicG9pbnQiLCJwb2x5Z29uIiwiaXNJbnNpZGUiLCJqIiwieGkiLCJ5aSIsInhqIiwieWoiLCJpbnRlcnNlY3QiLCJ1cGRhdGVQYXJ0aWNsZVBvc2l0aW9uIiwid2F2ZU9mZnNldCIsInNvbWUiLCJzcGFjZSIsImRyYXdQYXJ0aWNsZXMiLCJjdHgiLCJjbGVhclJlY3QiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImN1cnJlbnQiLCJmb3JFYWNoIiwiZmlsbFN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiZmlsbCIsImdldENvbnRleHQiLCJhbmltYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibnVtUGFydGljbGVzIiwidGltb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNyZWF0ZVBhcnRpY2xlc1dpdGhEZWxheSIsInRpbW91dDIiLCJyZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Particles/index.tsx\n"));

/***/ })

}]);