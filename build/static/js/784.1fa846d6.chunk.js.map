{"version":3,"file":"static/js/784.1fa846d6.chunk.js","mappings":"iJACA,QAA4B,yB,iCCI5B,MAAMA,GAASC,EAAAA,EAAAA,OAAK,IAAM,+BACpBC,GAASD,EAAAA,EAAAA,OAAK,IAAM,+BAEpBE,EAAkBA,KACtB,MAAM,WAAEC,EAAU,aAAEC,EAAY,cAAEC,EAAa,YAAEC,IAAgBC,EAAAA,EAAAA,KAC3DC,GAAQC,EAAAA,EAAAA,QAA8B,MAEtCC,GAAcC,EAAAA,EAAAA,cAAY,KAC9B,MAAMC,GAAeC,EAAAA,EAAAA,GAAQP,GAC7B,GAAIE,EAAMM,QAAS,CACjB,MAAMC,EAAWP,EAAMM,QAAQC,SAE/B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAASE,OAAQD,IAAK,CAAC,IAADE,EACxC,MAAMC,EAAMJ,EAASC,GACrB,GAAIG,IAAkB,QAAXD,EAAAH,EAASC,UAAE,IAAAE,OAAA,EAAXA,EAAaE,MAAQC,OAA0B,UAAG,CAC3D,MAAMC,EAAOH,EAAII,wBACSD,EAAKE,IAAMH,OAAOI,YAAc,GAAKH,EAAKE,KAAOH,OAAOI,YAAc,GAE9FC,YAAW,KACTtB,GAAa,GACZiB,OAA0B,WAAI,CAAK,GACnC,IAEP,CACA,IAAMA,OAA0B,UAAG,CAAC,IAADM,EACjC,MAAML,EAAOH,EAAII,wBACSD,EAAKE,IAAMH,OAAOI,YAAc,GAAKH,EAAKE,KAAOH,OAAOI,YAAc,GACxD,QAAnBE,EAAIf,EAAaI,UAAE,IAAAW,GAAfA,EAAiBP,IACxCM,YAAW,KACTvB,EAAWS,EAAaI,GAAGI,IAAI,EAAM,GACpC,IAEP,CACF,CACF,IACC,CAAChB,EAAcD,IAEZyB,GAAWjB,EAAAA,EAAAA,cAAY,KAC3BN,EAAc,CAAEwB,MAAOR,OAAOS,WAAYC,OAAQV,OAAOI,aAAc,GACtE,CAACpB,IAaJ,OAXA2B,EAAAA,EAAAA,YAAU,KACR3B,EAAc,CAAEwB,MAAOR,OAAOS,WAAYC,OAAQV,OAAOI,cAEzDJ,OAAOY,iBAAiB,SAAUvB,GAClCW,OAAOY,iBAAiB,SAAUL,GAC3B,KACLP,OAAOa,oBAAoB,SAAUxB,GACrCW,OAAOa,oBAAoB,SAAUN,EAAS,IAE/C,KAGDO,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAkBlB,IAAKX,EAAMO,SAAA,EAC1CF,EAAAA,EAAAA,GAAQP,GAAagC,KAAI,CAACC,EAAQC,KACjCC,EAAAA,EAAAA,KAAC1C,EAAM,CAELqB,GAAImB,EAAOnB,GACXsB,UAAWH,EAAOG,UAClBC,SAAUJ,EAAOI,SACjBC,YAAaL,EAAOM,YACpBN,OAAQA,GALHC,MAQTC,EAAAA,EAAAA,KAACxC,EAAM,MACH,EAIV,GAAe6C,EAAAA,EAAAA,MAAK5C,E","sources":["webpack://blocknite/./src/components/ScrollContainer/style.module.scss?a808","components/ScrollContainer/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"style_container__CzNma\"};","import { lazy, memo, useEffect, useRef, useCallback } from 'react';\nimport styles from './style.module.scss';\nimport { useStateProvider } from '../../context/state';\nimport { screens } from '../../constants/screens';\n\nconst Screen = lazy(() => import(\"../Screen\"));\nconst Footer = lazy(() => import(\"../Footer\"));\n\nconst ScrollContainer = () => {\n  const { updatePage, setScrolling, setWindowSize, windowWidth } = useStateProvider();\n  const pages = useRef<HTMLDivElement | null>(null);\n\n  const checkCenter = useCallback(() => {\n    const screensValue = screens(windowWidth)\n    if (pages.current) {\n      const children = pages.current.children;\n\n      for (let i = 0; i < children.length; i++) {\n        const ref = children[i] as HTMLElement;\n        if (ref && children[i]?.id === (window as any)[\"pageValue\"]) {\n          const rect = ref.getBoundingClientRect();\n          const isElementCentered = rect.top < window.innerHeight / 2 && rect.top > -window.innerHeight / 2;\n          if (isElementCentered) {\n            setTimeout(() => {\n              setScrolling(false);\n              (window as any)[\"scrolling\"] = false;\n            }, 800);\n          }\n        }\n        if (!(window as any)[\"scrolling\"]) {\n          const rect = ref.getBoundingClientRect();\n          const isElementCentered = rect.top < window.innerHeight / 2 && rect.top > -window.innerHeight / 2;\n          if (isElementCentered && screensValue[i]?.id) {\n            setTimeout(() => {\n              updatePage(screensValue[i].id, false);\n            }, 200);\n          }\n        }\n      }\n    }\n  }, [setScrolling, updatePage]);\n\n  const onResize = useCallback(() => {\n    setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n  }, [setWindowSize]);\n\n  useEffect(() => {\n    setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n\n    window.addEventListener(\"scroll\", checkCenter);\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      window.removeEventListener(\"scroll\", checkCenter);\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n  \n  return (\n    <div className={styles.container} ref={pages}>\n      {screens(windowWidth).map((screen, index) => (\n        <Screen\n          key={index}\n          id={screen.id}\n          component={screen.component}\n          imageUrl={screen.imageUrl}\n          mobileImage={screen.imageMobile}\n          screen={screen}\n        />\n      ))}\n      <Footer />\n    </div>\n  );\n};\n\nexport default memo(ScrollContainer);\n"],"names":["Screen","lazy","Footer","ScrollContainer","updatePage","setScrolling","setWindowSize","windowWidth","useStateProvider","pages","useRef","checkCenter","useCallback","screensValue","screens","current","children","i","length","_children$i","ref","id","window","rect","getBoundingClientRect","top","innerHeight","setTimeout","_screensValue$i","onResize","width","innerWidth","height","useEffect","addEventListener","removeEventListener","_jsxs","className","styles","map","screen","index","_jsx","component","imageUrl","mobileImage","imageMobile","memo"],"sourceRoot":""}